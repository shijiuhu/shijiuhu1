<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>js中date的相关属性和方法</title>
  <style>
  </style>
</head>
<body>
  <script>
    const exp = new Date()
    console.log(exp.getDate(), '----exp.getDate()')
    console.log(exp.getTime(), '----exp.getTime()')
    console.log(exp.getDay(), '----exp.getDay()') // 星期几1-7

    // getYear不再使用，已使用getFullYear方法取代。
    // 通过了getYear返回的值是当前年份减去1900(在JavaScript1.2)及返回或者是2位或4位数字的年份，
    // 例如，如果年份是2022年，返回的值是122所以测试此函数之前，请确保JavaScript的版本。
    console.log(exp.getYear(), '----exp.getYear()')

    console.log(exp.getFullYear(), '----exp.getFullYear()')
    console.log(exp.getMonth(), '----exp.getMonth()') // 月0-11
    console.log(exp.getDate(), '----exp.getDate()')
    console.log(exp.getHours(), '----exp.getHours()')
    console.log(exp.getMinutes(), '----exp.getMinutes()')
    console.log(exp.getSeconds(), '----exp.getSeconds()')
    console.log(exp.getMilliseconds(), '----exp.getMilliseconds()')
    console.log(exp.toDateString(), '----exp.toDateString()')
    console.log(exp.toLocaleDateString(), '----exp.toLocaleDateString()')
    console.log(exp.toLocaleString(), '----exp.toLocaleString()')
    console.log(exp.toLocaleTimeString(), '----exp.toLocaleTimeString()')
    console.log(exp.toString(), '----exp.toString()')
    console.log(exp.toTimeString(), '----exp.toTimeString()')

    function getDate() {
        let d = new Date();
        let year = d.getFullYear();
        let month = d.getMonth() + 1;
        let date = d.getDate();
        let hour = d.getHours();
        let minutes = d.getMinutes();
        let seconds = d.getSeconds();
        // 获取星期几 0表示星期天，1~6表示星期一~星期六
        let week = d.getDay() === 0 ? "星期日" : "星期" + d.getDay();
        return year + "年" + month + "月" + date + "日" + hour + "时" + minutes + "分" + seconds + "秒" + week;
    }
    console.log(getDate());

    // 如果Date()没有参数 得到的是当前日期。获取的日期格式：中国标准时间格式
    // 如果Date()有参数：接收一个日期格式的字符串，则以该日期为准
    const p1 = new Date("1990-10-11 06:8:8");
    const p2 = new Date("1990/10/11 06:8:8");
    const p3 = new Date(1990); //1970...不识别一个参数
    console.log(p1, '----p1')
    console.log(p2, '----p2')
    console.log(p3, '----p3')

    // 如果Date()有参数：至少两个参数，1年 2月 3日 4时 5分 6秒 7毫秒
    const d1 = new Date(2022); 
    const d2 = new Date(2022, 07); 
    const d3 = new Date(2022, 07, 29); 
    const d4 = new Date(2022, 07, 29, 21); 
    const d5 = new Date(2022, 07, 29, 21, 11); 
    const d6 = new Date(2022, 07, 29, 21, 11, 31); 
    const d7 = new Date(2022, 07, 29, 21, 11, 31, 3027); 
    console.log(d1, '----d1 new Date(2022)') // 不识别一个参数，测试了下，这里会当成1970年1月1日8分X秒处理
    console.log(d2, '----d2 new Date(2022, 07)')
    console.log(d3, '----d3 new Date(2022, 07, 29)')
    console.log(d4, '----d4 new Date(2022, 07, 29, 21)')
    console.log(d5, '----d5 new Date(2022, 07, 29, 21, 11)')
    console.log(d6, '----d6 new Date(2022, 07, 29, 21, 11, 31)')
    console.log(d7, '----d7 new Date(2022, 07, 29, 21, 11, 31, 3027)')


    // 日期的计算其实是在计算毫秒值
    // getTime()方法：从1970年1月1日0点0时0分到当前时间的毫秒数
    // Number()方法与getTime()相同,下面是一个例子
    const time1 = new Date(2020, 1, 25, 5, 39, 6).getTime();
    const time2 = Number(new Date(2020, 1, 25, 5, 39, 6));
    console.log(time1, 'new Date()的getTime()方法')
    console.log(time1, 'Number的new Date()方法')


    // 计算两个时间相差的秒、分、时、天等
    const d11 = new Date(2020, 0, 7);
    const d12 = new Date(1990, 10, 5);
    // 得到两个毫秒值 并相减
    const milliseconds = d11.getTime() - d12.getTime();
    const seconds = milliseconds / 1000;
    const minutes = seconds / 60;
    const hours = minutes / 60;
    const days = hours / 24;
    console.log(milliseconds, '----milliseconds')
    console.log(seconds, '----seconds')
    console.log(minutes, '----minutes')
    console.log(hours, '----hours')
    console.log(days, '----days')

    // 获取时间戳的三种方式，个人觉得就是最后一种了
    const date = new Date()
    const timestamp1 = Date.parse(date) // 看结果，Date.parse不能解析到最后3位，全部是0
    const timestamp2 = date.valueOf()   // .valueOf()和.getTime()效果一样
    const timestamp3 = date.getTime()
    const timestamp4 = Number(date)
    console.log(timestamp1, '----timestamp1 Date.parse(date)')
    console.log(timestamp2, '----timestamp2 date.valueOf()')
    console.log(timestamp3, '----timestamp3 date.getTime()')
    console.log(timestamp4, '----timestamp4 Number(date)')
  </script>
</body>
</html>